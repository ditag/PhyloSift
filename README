AMPHORA 2

AMPHORA is an Automated Phylogenomic Inference Pipeline for bacterial sequences. From a given a set of protein sequences, it automatically identifies various phylogenetic marker genes. It then generates high-quality multiple sequence alignments for these genes and make tree-based phylotype assignments.



NEW VERSION
=============================================================
AMPHORA 2 has several new features over AMPHORA
-The number of markers is being expanded from the original 31 Bacteria only markers to many more from Archaea and Bacteria (and possibly Eukaryotes and viruses)
-HMMER 3 replaces the older, slower, HMMER 2
-Use of Pplacer from Erick Matsen to place the reads on the reference trees
-Use of BioPerl 1.6.1
-Use of Rapsearch for short read input.
-...more to come

Install
==========================================

==== The easy way ====

Download the tarball archive from http://edhar.genomecenter.ucdavis.edu/~koadman/amphora2/amphora2_latest.tar.bz2

Navigate to the directory where you want to install A2.

   >tar -xvf amphora2_latest.tar.bz2

Amphora-2 is ready for use, refer to the Usage section.

==== Update the fast way ====

Download and install Git from http://github.com/   OR  run the following unix command : >apt-get install git

To update Amphora-2, navigate to the Amphora-2 directory and run the following command.
   >cd Amphora-2
   >git pull

Amphora-2 is ready for use

==== Update ====

Follow the install steps of downloading the tarball
This method will redownload all the binaries and library in addition to new code.  This may not be as fast as the github update method.


Usage
==========================================
$ perl Amphora-2.pl <Mode> <options> <sequence_file>

   sequence_file needs to be in fasta format

$ perl Amphora-2.pl <Mode> <options> -paired <sequence_file_1> <sequence_file_2>

   sequence_file_1 and _2 need to be in fastq format

Mode : Only execute a specific step in the pipeline
  all - execute all the following steps in that order.
  blast - only execute the blast search + write candidate files
  align - hmmsearch + hmmalign + trims + coverage filters
  placer - run pplacer on the results from the align step
  summary - run the taxonomy assignment steps

Options Available at this time : 
   -h -help             Prints the usage section of the README
   -custom <file>       Reads a custom marker list from a file otherwise use all the markers from the markers directory
   --threaded=<Number>  Runs Blast and Hmmer using the number of processors sepcified
                        Runs 1 Pplacer per processor specified
		        (DEFAULT : 1)
   -clean               Cleans the temporary files created by Amphora (NOT YET IMPLEMENTED)
   -paired              Looks for 2 input files (paired end sequencing) in FastQ format.  
   			Reversing the sequences for the second file listed 
			and appending to the corresponding pair from the first file listed.
   -continue            Enables the pipeline to continue to subsequent steps when not using the 'all' mode
   -reverse		If the submitted sequences were Nucleotides, the program prints out an alignment for all the markers in DNA space in addition to the one in Protein space.
   -isolate             Use this mode if you are running data from an Isolate genome


Requirements
==========================================

	A 64bit operating system is required as the binaries packaged with the Amphora-2 scripts were compiled using such OS.
	Amphora-2 will NOT work on a 32bit operating system.



SUPPORT AND DOCUMENTATION

After installing, you can find documentation for this module with the
perldoc command.

    perldoc Amphora2::Amphora2

You can also look for information at:

    RT, CPAN's request tracker (report bugs here)
        http://rt.cpan.org/NoAuth/Bugs.html?Dist=Amphora2-Amphora2

    AnnoCPAN, Annotated CPAN documentation
        http://annocpan.org/dist/Amphora2-Amphora2

    CPAN Ratings
        http://cpanratings.perl.org/d/Amphora2-Amphora2

    Search CPAN
        http://search.cpan.org/dist/Amphora2-Amphora2/


LICENSE AND COPYRIGHT

Copyright (C) 2011 Aaron Darling

This program is free software; you can redistribute it and/or modify it
under the terms of either: the GNU General Public License as published
by the Free Software Foundation; or the Artistic License.

See http://dev.perl.org/licenses/ for more information.

